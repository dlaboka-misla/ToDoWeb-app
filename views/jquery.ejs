<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    /* an ajax request to the server to uncheck the item if its checked
    or check if its unchecked, depending on user's actions */
    function onToggle(i, id, chk) {
        $.ajax({
            url: '/onToggle',
            type: 'post',
            data: {
                itemNumber: i,
                id: id,
                chk: chk
            },
            success: function(response) {
                console.log(response);
            }
        });
    };

    // an ajax request to the server when the user clicks on the right or left curly bracket
    function changeDay(dayOfWeek, when) {
        $.ajax({
            url: '/posts/' + dayOfWeek + '/' + when,
            type: 'post',
            success: function(response) {
                console.log(response);
            }
        });
    };

    // an ajax request to the server when the user presses on the right or left arrow key of the keyboard
    function getAnotherDay(dayOfWeek, event) {
        let keycode = event.keyCode;
        let type = '';
        if (keycode == 37) {
            type = '/previous';
        } else if (keycode == 39) {
            type = '/next';
        }
        if (type != '') {
            $.ajax({
                url: '/posts/' + dayOfWeek + type,
                type: 'post',
                success: function(response) {
                    window.location.reload(true);
                }
            });
        }
    };
</script>
