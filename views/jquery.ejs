<script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('p[name=display]').click(function() {
            $(this).hide();
            $('input[name=edit]', $(this).closest('div')).show();
        })
        $('p[name=display]').mouseover(function() {
            $('img', $(this).closest('p')).show();
        })
        $('p[name=display]').mouseleave(function() {
            $('img', $(this).closest('p')).hide();
        })
    });

    function deleteItem(index) {
        $.ajax({
            url: "/deleteItem",
            type: "post",
            data: {
                itemNumber: index
            },
            success: function(response) {
                window.location.reload(true);
            }
        });
    }

    function editInput(index, value) {
        if (value) {
            $.ajax({
                url: "/editInput",
                type: "post",
                data: {
                    itemNumber: index,
                    itemText: value
                },
                success: function(response) {}
            });
        } else {
            window.alert('Please insert text.')
        }
    };

    function onMyClick(i) {
        $.ajax({
            url: "/onMyClick",
            type: "post",
            data: {
                itemNumber: i
            },
            success: function(response) {
                window.location.reload(true);
            }
        });
    };

    function onYourClick(i) {
        $.ajax({
            url: "/onYourClick",
            type: "post",
            data: {
                itemNumber: i
            },
            success: function(response) {
                window.location.reload(true);
            }
        });
    };

    function getNextDay(dayOfWeek) {
        $.ajax({
            url: "/posts/" + dayOfWeek + "/next",
            type: "post",
            success: function(response) {
                console.log(response);
            }
        });
    };

    function getPreviousDay(dayOfWeek) {
        $.ajax({
            url: "/posts/" + dayOfWeek + "/previous",
            type: "post",
            success: function(response) {
                console.log(response);
            }
        });
    };

    function getAnotherDay(dayOfWeek, event) {
        let keycode = event.keyCode;
        let type = "";
        if (keycode == 37) {
            type = "/previous";
        } else if (keycode == 39) {
            type = "/next";
        }
        if (type != "") {
            $.ajax({
                url: "/posts/" + dayOfWeek + type,
                type: "post",
                success: function(response) {
                    window.location.reload(true);
                }
            });
        }
    };
</script>